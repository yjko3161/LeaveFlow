<div class="row row-cols-2 row-cols-md-4 g-3 mb-4">
    {% for preview in previews %}
    <div class="col">
        <div class="card h-100 stamp-card" onclick="selectStamp(this, '{{ preview.code }}')"
            style="cursor: pointer; border: 2px solid transparent;">
            <div class="card-body d-flex align-items-center justify-content-center checkerboard-bg"
                style="min-height: 120px;">
                {{ preview.svg|safe }}
            </div>
            <div class="card-footer text-center py-1 small text-muted">
                {{ preview.code }}
            </div>
        </div>
    </div>
    {% endfor %}
</div>

<style>
    .checkerboard-bg {
        background-image: linear-gradient(45deg, #f0f0f0 25%, transparent 25%),
            linear-gradient(-45deg, #f0f0f0 25%, transparent 25%),
            linear-gradient(45deg, transparent 75%, #f0f0f0 75%),
            linear-gradient(-45deg, transparent 75%, #f0f0f0 75%);
        background-size: 20px 20px;
        background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
    }

    .stamp-card.selected {
        border-color: #0d6efd !important;
        background-color: rgba(13, 110, 253, 0.05);
    }
</style>

<!-- No script here, using global selectStamp from manage.html -->